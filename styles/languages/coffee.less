.coffee {
  &.embedded.source {
    color: @syntax-accent;
  }

  .punctuation.separator,
  &.comma,
  // &.keyword.operator // '=', but also 'and', stupid parser
  {
    color: @syntax-fg;
  }

  // &.meta.brace {
  //   color: @syntax-code-alt;
  // }

  &.keyword.new {
    color: @syntax-code;
  }

  &.delimited,
  &.comma {
    opacity: 0.5
  }

  &.entity.other.inherited-class {
    color: @syntax-code-alt;
  }

  &.entity.name {
    &.type.class, // class {Class}
    &.type.instance { // new {Instance}
      color: @syntax-code-alt;
    }

    &.function {
      font-weight: normal;

      .meta.function.coffee & {
        font-weight: bold;
      }
    }
  }

  &.string.script {
    background: fade(@syntax-constant, 10%);

    .punctuation {
      color: @syntax-constant;
    }
  }
}
