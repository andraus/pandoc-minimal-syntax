.text.md {
  .md {
    &.heading {
      color: @syntax-code;

      &.empty {
        .punctuation {
          opacity: 1;
        }
      }

      .emphasis {
        opacity: 1;
        font-weight: normal;
      }
    }

    &.hr {
      // color: fade(@syntax-code-alt, 50%);
      color: @syntax-constant;
    }

    &.quote {
      color: @syntax-content;

      .link.markup,
      .link.text,
      .link.image,
      .string {
        color: @syntax-content-dark;
      }

      .uri {
        color: @syntax-code-alt;
      }
    }

    &.link {
      &.text {
        color: @syntax-content;
      }
      &.destination {
        color: @syntax-code;

        .uri {
          text-decoration: underline;
        }
      }
      &.title {
        color: @syntax-code-alt;
        font-style: italic;
      }
      &.string {
        background: fade(@syntax-content, 5%);
      }
    }

    &.gfm,
    &.reference {
      color: @syntax-accent;
    }

    &.list {
      > .punctuation {
        opacity: 1;
      }
      .heading {
        color: @syntax-code-alt;
        // font-weight: normal;
      }
      &.task {
        &.completed {
          color: @syntax-fg;
          opacity: 0.333;

          .code {
            background: transparent;
            color: @syntax-fg;
          }

          .punctuation {
            color: @syntax-fg;
          }

          .todo,
          .review {
            color: inherit;
          }

          .fixme {
            background: transparent;
            outline: none;
            color: inherit;
          }
        }
      }
      &.unordered,
      &.ordered
      {
        color: @syntax-fg;

        > .punctuation {
          color: @syntax-code;
        }
      }
      &.empty {
        .punctuation {
          // opacity: 1;
          color: @syntax-code-alt;
        }
      }
    }

    &.code {
      color: @syntax-neutral;

      &:not(.fenced) {
        background: fade(@syntax-neutral, 10%);
      }

      &.fenced {
        &.info {
          color: @syntax-code-alt;
        }
      }
    }

    // NOTE disabled
    // &.indented-code {
    //   background: fade(@syntax-neutral, 10%);
    // }

    &.constant {
      color: @syntax-constant;
      &.language {
        color: @syntax-neutral;
        font-weight: normal;
      }
    }

    &.punctuation {
      opacity: 0.5;
      background: inherit;
    }

    &.emphasis {
      font-style: italic;

      &:not(.strong) {
        opacity: 0.75;
      }

      &:not(.strong) .strong {
        font-style: italic;
      }
    }

    &.strong {
      font-weight: bold;
      font-style: normal;
      // color: @syntax-fg-pure;
    }

    &.table {
      color: @syntax-code-alt;

      > .punctuation {
        color: @syntax-code;
        opacity: 0.5;

        &.alignment {
          color: @syntax-code;
          opacity: 1;
        }
      }
    }

    &.strike {
      text-decoration: line-through;
      opacity: 0.5;
    }

    &.critic {
      &.addition {
        color: @syntax-content;
      }
      &.deletion {
        color: @syntax-constant;
      }
      // &.highlight {
      //   background: fade(@syntax-highlight, 25%);
      // }
      &.comment {
        color: @syntax-comment;
        font-style: normal;
      }
      &.substitution {
        color: @syntax-code;
      }
    }

    &.special-attributes {
      color: @syntax-neutral;
    }

    &.special.attribute {
      &.other {
        color: inherit;
      }

      &.id,
      &.class
      {
        color: @syntax-constant;
      }

      &.id {
        font-weight: bold;
      }

      &.class {
        font-weight: normal;
      }
    }
  }
}
